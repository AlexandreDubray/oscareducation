-extends "base.haml"
-load static

-load bootstrap3

-block head
  %script{:src => "https://d3js.org/d3.v4.min.js"}

-block breadcrumb
  %ol.breadcrumb
    %li
      %a{href: "{% url 'professor:dashboard' %}"} Oscar
    %li
      %a{href: "{% url 'professor:lesson_detail' lesson.pk %}"} Classe {{lesson.name}}
    %li.active
      Statistiques
      =student

-block content

    / Actual content of the page
    %div{:id => "page-content-wrapper"}
      .container-fluid
        .col-lg-4
          .container-fluid
            .dropdown
              .button{:class=>"btn btn-default dropdown-toggle", :type=>"button", :data-toggle=>"dropdown"}
                Etudiants de la classe
                %span.caret
              %ul.dropdown-menu
                -for stud in lesson.students.all
                  -if stud == student
                    %li{:class=>"active"}
                      %a
                        {{ stud }}
                  -else
                    %li
                      %a{:href=>'#'}
                        {{ stud }}
            .dropdown
              .button{:class=>"btn btn-default dropdown-toggle", :type=>"button", :data-toggle=>"dropdown"}
                Unité d'enseignement
                %span.caret
              %ul.dropdown-menu
                -for uaa in uaa_list
                  %li
                    %a{href: "{% url 'professor:show_specific_stat' lesson.pk student.user.username uaa.pk %}"}
                      {{ uaa.name }}
        .col-lg-8
          .container-fluid
            .jumbotron
              %p Profil de l'étudiant
              %h2 Nom : {{student.user.first_name}}
              %h2 Prénom : {{student.user.last_name}}
              %h2 Email : {{ student.user.email}}
      .container-fluid
        .jumbotron
          %svg{:id => "{{student.user.username}}", :class => "graph-student", :height => "400", :width => "600", :lesson => "{{lesson.pk}}", :uaa => current_uaa}







  -block javascript
    %script(src="/static/js/graph_specific_student.js")