-extends "base.haml"

-block content
  -if not test_exercice.exercice
    %h1 Test de la compétence {{ test_exercice.skill.code }} mais nous n'avons pas encore d'exercice
    %hr

    %center
      %form{method: "POST"}
        -csrf_token
        %button.btn.btn-success.btn-lg{type: "submit", name: "value", value: "validate"}
          Marquer la compétence comme maitrisé

        %button.btn.btn-danger.btn-lg{type: "submit", name: "value", value: "unvalidate"}
          Marquer la compétence comme à apprendre

  -else
    %h1 Exercice
    %hr

    -if test_exercice.exercice.content
      .well
        =test_exercice.exercice.content|safe

    %form{method: "POST"}
      -for label, question in test_exercice.exercice.get_questions
        .form-group
          %label{for: "{{ question.id }}"}= label
          %input.form-control{id: "{{ question.id }}"}

      %input.btn.btn-primary{type: "submit", value: "Répondre"}
